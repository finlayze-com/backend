"""add weekly tables for rights_issue and funds

Revision ID: 4c1b963e63c7
Revises: a8e36f6f4b01
Create Date: 2025-08-27 11:52:34.823651

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision: str = '4c1b963e63c7'
down_revision: Union[str, Sequence[str], None] = 'a8e36f6f4b01'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    """Upgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('weekly_fund_balanced',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('stock_ticker', sa.Text(), nullable=True),
    sa.Column('week_start', sa.Date(), nullable=False),
    sa.Column('week_end', sa.Date(), nullable=False),
    sa.Column('open', sa.Integer(), nullable=True),
    sa.Column('high', sa.Integer(), nullable=True),
    sa.Column('low', sa.Integer(), nullable=True),
    sa.Column('close', sa.Integer(), nullable=True),
    sa.Column('final_price', sa.Integer(), nullable=True),
    sa.Column('volume', sa.BigInteger(), nullable=True),
    sa.Column('value', sa.BigInteger(), nullable=True),
    sa.Column('trade_count', sa.Integer(), nullable=True),
    sa.Column('name', sa.Text(), nullable=True),
    sa.Column('market', sa.Text(), nullable=True),
    sa.Column('adjust_open', sa.Integer(), nullable=True),
    sa.Column('adjust_high', sa.Integer(), nullable=True),
    sa.Column('adjust_low', sa.Integer(), nullable=True),
    sa.Column('adjust_close', sa.Integer(), nullable=True),
    sa.Column('adjust_final_price', sa.Integer(), nullable=True),
    sa.Column('adjust_open_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_high_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_low_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_close_usd', sa.Double(precision=53), nullable=True),
    sa.Column('value_usd', sa.Double(precision=53), nullable=True),
    sa.Column('dollar_rate', sa.Double(precision=53), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('stock_ticker', 'week_start', name='uq_weekly_fund_balanced_ticker_week_start')
    )
    op.create_table('weekly_fund_fixincome',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('stock_ticker', sa.Text(), nullable=True),
    sa.Column('week_start', sa.Date(), nullable=False),
    sa.Column('week_end', sa.Date(), nullable=False),
    sa.Column('open', sa.Integer(), nullable=True),
    sa.Column('high', sa.Integer(), nullable=True),
    sa.Column('low', sa.Integer(), nullable=True),
    sa.Column('close', sa.Integer(), nullable=True),
    sa.Column('final_price', sa.Integer(), nullable=True),
    sa.Column('volume', sa.BigInteger(), nullable=True),
    sa.Column('value', sa.BigInteger(), nullable=True),
    sa.Column('trade_count', sa.Integer(), nullable=True),
    sa.Column('name', sa.Text(), nullable=True),
    sa.Column('market', sa.Text(), nullable=True),
    sa.Column('adjust_open', sa.Integer(), nullable=True),
    sa.Column('adjust_high', sa.Integer(), nullable=True),
    sa.Column('adjust_low', sa.Integer(), nullable=True),
    sa.Column('adjust_close', sa.Integer(), nullable=True),
    sa.Column('adjust_final_price', sa.Integer(), nullable=True),
    sa.Column('adjust_open_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_high_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_low_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_close_usd', sa.Double(precision=53), nullable=True),
    sa.Column('value_usd', sa.Double(precision=53), nullable=True),
    sa.Column('dollar_rate', sa.Double(precision=53), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('stock_ticker', 'week_start', name='uq_weekly_fund_fixincome_ticker_week_start')
    )
    op.create_table('weekly_fund_gold',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('stock_ticker', sa.Text(), nullable=True),
    sa.Column('week_start', sa.Date(), nullable=False),
    sa.Column('week_end', sa.Date(), nullable=False),
    sa.Column('open', sa.Integer(), nullable=True),
    sa.Column('high', sa.Integer(), nullable=True),
    sa.Column('low', sa.Integer(), nullable=True),
    sa.Column('close', sa.Integer(), nullable=True),
    sa.Column('final_price', sa.Integer(), nullable=True),
    sa.Column('volume', sa.BigInteger(), nullable=True),
    sa.Column('value', sa.BigInteger(), nullable=True),
    sa.Column('trade_count', sa.Integer(), nullable=True),
    sa.Column('name', sa.Text(), nullable=True),
    sa.Column('market', sa.Text(), nullable=True),
    sa.Column('adjust_open', sa.Integer(), nullable=True),
    sa.Column('adjust_high', sa.Integer(), nullable=True),
    sa.Column('adjust_low', sa.Integer(), nullable=True),
    sa.Column('adjust_close', sa.Integer(), nullable=True),
    sa.Column('adjust_final_price', sa.Integer(), nullable=True),
    sa.Column('adjust_open_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_high_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_low_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_close_usd', sa.Double(precision=53), nullable=True),
    sa.Column('value_usd', sa.Double(precision=53), nullable=True),
    sa.Column('dollar_rate', sa.Double(precision=53), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('stock_ticker', 'week_start', name='uq_weekly_fund_gold_ticker_week_start')
    )
    op.create_table('weekly_fund_index_stock',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('stock_ticker', sa.Text(), nullable=True),
    sa.Column('week_start', sa.Date(), nullable=False),
    sa.Column('week_end', sa.Date(), nullable=False),
    sa.Column('open', sa.Integer(), nullable=True),
    sa.Column('high', sa.Integer(), nullable=True),
    sa.Column('low', sa.Integer(), nullable=True),
    sa.Column('close', sa.Integer(), nullable=True),
    sa.Column('final_price', sa.Integer(), nullable=True),
    sa.Column('volume', sa.BigInteger(), nullable=True),
    sa.Column('value', sa.BigInteger(), nullable=True),
    sa.Column('trade_count', sa.Integer(), nullable=True),
    sa.Column('name', sa.Text(), nullable=True),
    sa.Column('market', sa.Text(), nullable=True),
    sa.Column('adjust_open', sa.Integer(), nullable=True),
    sa.Column('adjust_high', sa.Integer(), nullable=True),
    sa.Column('adjust_low', sa.Integer(), nullable=True),
    sa.Column('adjust_close', sa.Integer(), nullable=True),
    sa.Column('adjust_final_price', sa.Integer(), nullable=True),
    sa.Column('adjust_open_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_high_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_low_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_close_usd', sa.Double(precision=53), nullable=True),
    sa.Column('value_usd', sa.Double(precision=53), nullable=True),
    sa.Column('dollar_rate', sa.Double(precision=53), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('stock_ticker', 'week_start', name='uq_weekly_fund_index_stock_ticker_week_start')
    )
    op.create_table('weekly_fund_leverage',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('stock_ticker', sa.Text(), nullable=True),
    sa.Column('week_start', sa.Date(), nullable=False),
    sa.Column('week_end', sa.Date(), nullable=False),
    sa.Column('open', sa.Integer(), nullable=True),
    sa.Column('high', sa.Integer(), nullable=True),
    sa.Column('low', sa.Integer(), nullable=True),
    sa.Column('close', sa.Integer(), nullable=True),
    sa.Column('final_price', sa.Integer(), nullable=True),
    sa.Column('volume', sa.BigInteger(), nullable=True),
    sa.Column('value', sa.BigInteger(), nullable=True),
    sa.Column('trade_count', sa.Integer(), nullable=True),
    sa.Column('name', sa.Text(), nullable=True),
    sa.Column('market', sa.Text(), nullable=True),
    sa.Column('adjust_open', sa.Integer(), nullable=True),
    sa.Column('adjust_high', sa.Integer(), nullable=True),
    sa.Column('adjust_low', sa.Integer(), nullable=True),
    sa.Column('adjust_close', sa.Integer(), nullable=True),
    sa.Column('adjust_final_price', sa.Integer(), nullable=True),
    sa.Column('adjust_open_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_high_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_low_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_close_usd', sa.Double(precision=53), nullable=True),
    sa.Column('value_usd', sa.Double(precision=53), nullable=True),
    sa.Column('dollar_rate', sa.Double(precision=53), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('stock_ticker', 'week_start', name='uq_weekly_fund_leverage_ticker_week_start')
    )
    op.create_table('weekly_fund_other',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('stock_ticker', sa.Text(), nullable=True),
    sa.Column('week_start', sa.Date(), nullable=False),
    sa.Column('week_end', sa.Date(), nullable=False),
    sa.Column('open', sa.Integer(), nullable=True),
    sa.Column('high', sa.Integer(), nullable=True),
    sa.Column('low', sa.Integer(), nullable=True),
    sa.Column('close', sa.Integer(), nullable=True),
    sa.Column('final_price', sa.Integer(), nullable=True),
    sa.Column('volume', sa.BigInteger(), nullable=True),
    sa.Column('value', sa.BigInteger(), nullable=True),
    sa.Column('trade_count', sa.Integer(), nullable=True),
    sa.Column('name', sa.Text(), nullable=True),
    sa.Column('market', sa.Text(), nullable=True),
    sa.Column('adjust_open', sa.Integer(), nullable=True),
    sa.Column('adjust_high', sa.Integer(), nullable=True),
    sa.Column('adjust_low', sa.Integer(), nullable=True),
    sa.Column('adjust_close', sa.Integer(), nullable=True),
    sa.Column('adjust_final_price', sa.Integer(), nullable=True),
    sa.Column('adjust_open_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_high_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_low_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_close_usd', sa.Double(precision=53), nullable=True),
    sa.Column('value_usd', sa.Double(precision=53), nullable=True),
    sa.Column('dollar_rate', sa.Double(precision=53), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('stock_ticker', 'week_start', name='uq_weekly_fund_other_ticker_week_start')
    )
    op.create_table('weekly_fund_segment',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('stock_ticker', sa.Text(), nullable=True),
    sa.Column('week_start', sa.Date(), nullable=False),
    sa.Column('week_end', sa.Date(), nullable=False),
    sa.Column('open', sa.Integer(), nullable=True),
    sa.Column('high', sa.Integer(), nullable=True),
    sa.Column('low', sa.Integer(), nullable=True),
    sa.Column('close', sa.Integer(), nullable=True),
    sa.Column('final_price', sa.Integer(), nullable=True),
    sa.Column('volume', sa.BigInteger(), nullable=True),
    sa.Column('value', sa.BigInteger(), nullable=True),
    sa.Column('trade_count', sa.Integer(), nullable=True),
    sa.Column('name', sa.Text(), nullable=True),
    sa.Column('market', sa.Text(), nullable=True),
    sa.Column('adjust_open', sa.Integer(), nullable=True),
    sa.Column('adjust_high', sa.Integer(), nullable=True),
    sa.Column('adjust_low', sa.Integer(), nullable=True),
    sa.Column('adjust_close', sa.Integer(), nullable=True),
    sa.Column('adjust_final_price', sa.Integer(), nullable=True),
    sa.Column('adjust_open_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_high_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_low_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_close_usd', sa.Double(precision=53), nullable=True),
    sa.Column('value_usd', sa.Double(precision=53), nullable=True),
    sa.Column('dollar_rate', sa.Double(precision=53), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('stock_ticker', 'week_start', name='uq_weekly_fund_segment_ticker_week_start')
    )
    op.create_table('weekly_fund_stock',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('stock_ticker', sa.Text(), nullable=True),
    sa.Column('week_start', sa.Date(), nullable=False),
    sa.Column('week_end', sa.Date(), nullable=False),
    sa.Column('open', sa.Integer(), nullable=True),
    sa.Column('high', sa.Integer(), nullable=True),
    sa.Column('low', sa.Integer(), nullable=True),
    sa.Column('close', sa.Integer(), nullable=True),
    sa.Column('final_price', sa.Integer(), nullable=True),
    sa.Column('volume', sa.BigInteger(), nullable=True),
    sa.Column('value', sa.BigInteger(), nullable=True),
    sa.Column('trade_count', sa.Integer(), nullable=True),
    sa.Column('name', sa.Text(), nullable=True),
    sa.Column('market', sa.Text(), nullable=True),
    sa.Column('adjust_open', sa.Integer(), nullable=True),
    sa.Column('adjust_high', sa.Integer(), nullable=True),
    sa.Column('adjust_low', sa.Integer(), nullable=True),
    sa.Column('adjust_close', sa.Integer(), nullable=True),
    sa.Column('adjust_final_price', sa.Integer(), nullable=True),
    sa.Column('adjust_open_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_high_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_low_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_close_usd', sa.Double(precision=53), nullable=True),
    sa.Column('value_usd', sa.Double(precision=53), nullable=True),
    sa.Column('dollar_rate', sa.Double(precision=53), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('stock_ticker', 'week_start', name='uq_weekly_fund_stock_ticker_week_start')
    )
    op.create_table('weekly_fund_zafran',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('stock_ticker', sa.Text(), nullable=True),
    sa.Column('week_start', sa.Date(), nullable=False),
    sa.Column('week_end', sa.Date(), nullable=False),
    sa.Column('open', sa.Integer(), nullable=True),
    sa.Column('high', sa.Integer(), nullable=True),
    sa.Column('low', sa.Integer(), nullable=True),
    sa.Column('close', sa.Integer(), nullable=True),
    sa.Column('final_price', sa.Integer(), nullable=True),
    sa.Column('volume', sa.BigInteger(), nullable=True),
    sa.Column('value', sa.BigInteger(), nullable=True),
    sa.Column('trade_count', sa.Integer(), nullable=True),
    sa.Column('name', sa.Text(), nullable=True),
    sa.Column('market', sa.Text(), nullable=True),
    sa.Column('adjust_open', sa.Integer(), nullable=True),
    sa.Column('adjust_high', sa.Integer(), nullable=True),
    sa.Column('adjust_low', sa.Integer(), nullable=True),
    sa.Column('adjust_close', sa.Integer(), nullable=True),
    sa.Column('adjust_final_price', sa.Integer(), nullable=True),
    sa.Column('adjust_open_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_high_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_low_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_close_usd', sa.Double(precision=53), nullable=True),
    sa.Column('value_usd', sa.Double(precision=53), nullable=True),
    sa.Column('dollar_rate', sa.Double(precision=53), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('stock_ticker', 'week_start', name='uq_weekly_fund_zafran_ticker_week_start')
    )
    op.create_table('weekly_rights_issue',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('stock_ticker', sa.Text(), nullable=True),
    sa.Column('week_start', sa.Date(), nullable=False),
    sa.Column('week_end', sa.Date(), nullable=False),
    sa.Column('open', sa.Integer(), nullable=True),
    sa.Column('high', sa.Integer(), nullable=True),
    sa.Column('low', sa.Integer(), nullable=True),
    sa.Column('close', sa.Integer(), nullable=True),
    sa.Column('final_price', sa.Integer(), nullable=True),
    sa.Column('volume', sa.BigInteger(), nullable=True),
    sa.Column('value', sa.BigInteger(), nullable=True),
    sa.Column('trade_count', sa.Integer(), nullable=True),
    sa.Column('name', sa.Text(), nullable=True),
    sa.Column('market', sa.Text(), nullable=True),
    sa.Column('adjust_open', sa.Integer(), nullable=True),
    sa.Column('adjust_high', sa.Integer(), nullable=True),
    sa.Column('adjust_low', sa.Integer(), nullable=True),
    sa.Column('adjust_close', sa.Integer(), nullable=True),
    sa.Column('adjust_final_price', sa.Integer(), nullable=True),
    sa.Column('adjust_open_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_high_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_low_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_close_usd', sa.Double(precision=53), nullable=True),
    sa.Column('value_usd', sa.Double(precision=53), nullable=True),
    sa.Column('dollar_rate', sa.Double(precision=53), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('stock_ticker', 'week_start', name='uq_weekly_rights_issue_ticker_week_start')
    )
    op.create_table('weekly_commodity',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('stock_ticker', sa.Text(), nullable=True),
    sa.Column('week_start', sa.Date(), nullable=False),
    sa.Column('week_end', sa.Date(), nullable=False),
    sa.Column('open', sa.Integer(), nullable=True),
    sa.Column('high', sa.Integer(), nullable=True),
    sa.Column('low', sa.Integer(), nullable=True),
    sa.Column('close', sa.Integer(), nullable=True),
    sa.Column('final_price', sa.Integer(), nullable=True),
    sa.Column('volume', sa.BigInteger(), nullable=True),
    sa.Column('value', sa.BigInteger(), nullable=True),
    sa.Column('trade_count', sa.Integer(), nullable=True),
    sa.Column('name', sa.Text(), nullable=True),
    sa.Column('market', sa.Text(), nullable=True),
    sa.Column('adjust_open', sa.Integer(), nullable=True),
    sa.Column('adjust_high', sa.Integer(), nullable=True),
    sa.Column('adjust_low', sa.Integer(), nullable=True),
    sa.Column('adjust_close', sa.Integer(), nullable=True),
    sa.Column('adjust_final_price', sa.Integer(), nullable=True),
    sa.Column('adjust_open_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_high_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_low_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_close_usd', sa.Double(precision=53), nullable=True),
    sa.Column('value_usd', sa.Double(precision=53), nullable=True),
    sa.Column('dollar_rate', sa.Double(precision=53), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('stock_ticker', 'week_start', name='uq_weekly_commodity_week_start')
    )
    op.create_table('weekly_option',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('stock_ticker', sa.Text(), nullable=True),
    sa.Column('week_start', sa.Date(), nullable=False),
    sa.Column('week_end', sa.Date(), nullable=False),
    sa.Column('open', sa.Integer(), nullable=True),
    sa.Column('high', sa.Integer(), nullable=True),
    sa.Column('low', sa.Integer(), nullable=True),
    sa.Column('close', sa.Integer(), nullable=True),
    sa.Column('final_price', sa.Integer(), nullable=True),
    sa.Column('volume', sa.BigInteger(), nullable=True),
    sa.Column('value', sa.BigInteger(), nullable=True),
    sa.Column('trade_count', sa.Integer(), nullable=True),
    sa.Column('name', sa.Text(), nullable=True),
    sa.Column('market', sa.Text(), nullable=True),
    sa.Column('adjust_open', sa.Integer(), nullable=True),
    sa.Column('adjust_high', sa.Integer(), nullable=True),
    sa.Column('adjust_low', sa.Integer(), nullable=True),
    sa.Column('adjust_close', sa.Integer(), nullable=True),
    sa.Column('adjust_final_price', sa.Integer(), nullable=True),
    sa.Column('adjust_open_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_high_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_low_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_close_usd', sa.Double(precision=53), nullable=True),
    sa.Column('value_usd', sa.Double(precision=53), nullable=True),
    sa.Column('dollar_rate', sa.Double(precision=53), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('stock_ticker', 'week_start', name='uq_weekly_option_week_start')
    )
    op.create_table('weekly_block',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('stock_ticker', sa.Text(), nullable=True),
    sa.Column('week_start', sa.Date(), nullable=False),
    sa.Column('week_end', sa.Date(), nullable=False),
    sa.Column('open', sa.Integer(), nullable=True),
    sa.Column('high', sa.Integer(), nullable=True),
    sa.Column('low', sa.Integer(), nullable=True),
    sa.Column('close', sa.Integer(), nullable=True),
    sa.Column('final_price', sa.Integer(), nullable=True),
    sa.Column('volume', sa.BigInteger(), nullable=True),
    sa.Column('value', sa.BigInteger(), nullable=True),
    sa.Column('trade_count', sa.Integer(), nullable=True),
    sa.Column('name', sa.Text(), nullable=True),
    sa.Column('market', sa.Text(), nullable=True),
    sa.Column('adjust_open', sa.Integer(), nullable=True),
    sa.Column('adjust_high', sa.Integer(), nullable=True),
    sa.Column('adjust_low', sa.Integer(), nullable=True),
    sa.Column('adjust_close', sa.Integer(), nullable=True),
    sa.Column('adjust_final_price', sa.Integer(), nullable=True),
    sa.Column('adjust_open_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_high_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_low_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_close_usd', sa.Double(precision=53), nullable=True),
    sa.Column('value_usd', sa.Double(precision=53), nullable=True),
    sa.Column('dollar_rate', sa.Double(precision=53), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('stock_ticker', 'week_start', name='uq_weekly_block_week_start')
    )
    op.create_table('weekly_retail',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('stock_ticker', sa.Text(), nullable=True),
    sa.Column('week_start', sa.Date(), nullable=False),
    sa.Column('week_end', sa.Date(), nullable=False),
    sa.Column('open', sa.Integer(), nullable=True),
    sa.Column('high', sa.Integer(), nullable=True),
    sa.Column('low', sa.Integer(), nullable=True),
    sa.Column('close', sa.Integer(), nullable=True),
    sa.Column('final_price', sa.Integer(), nullable=True),
    sa.Column('volume', sa.BigInteger(), nullable=True),
    sa.Column('value', sa.BigInteger(), nullable=True),
    sa.Column('trade_count', sa.Integer(), nullable=True),
    sa.Column('name', sa.Text(), nullable=True),
    sa.Column('market', sa.Text(), nullable=True),
    sa.Column('adjust_open', sa.Integer(), nullable=True),
    sa.Column('adjust_high', sa.Integer(), nullable=True),
    sa.Column('adjust_low', sa.Integer(), nullable=True),
    sa.Column('adjust_close', sa.Integer(), nullable=True),
    sa.Column('adjust_final_price', sa.Integer(), nullable=True),
    sa.Column('adjust_open_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_high_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_low_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_close_usd', sa.Double(precision=53), nullable=True),
    sa.Column('value_usd', sa.Double(precision=53), nullable=True),
    sa.Column('dollar_rate', sa.Double(precision=53), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('stock_ticker', 'week_start', name='uq_weekly_retail_week_start')
    )
    op.create_table('weekly_bond',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('stock_ticker', sa.Text(), nullable=True),
    sa.Column('week_start', sa.Date(), nullable=False),
    sa.Column('week_end', sa.Date(), nullable=False),
    sa.Column('open', sa.Integer(), nullable=True),
    sa.Column('high', sa.Integer(), nullable=True),
    sa.Column('low', sa.Integer(), nullable=True),
    sa.Column('close', sa.Integer(), nullable=True),
    sa.Column('final_price', sa.Integer(), nullable=True),
    sa.Column('volume', sa.BigInteger(), nullable=True),
    sa.Column('value', sa.BigInteger(), nullable=True),
    sa.Column('trade_count', sa.Integer(), nullable=True),
    sa.Column('name', sa.Text(), nullable=True),
    sa.Column('market', sa.Text(), nullable=True),
    sa.Column('adjust_open', sa.Integer(), nullable=True),
    sa.Column('adjust_high', sa.Integer(), nullable=True),
    sa.Column('adjust_low', sa.Integer(), nullable=True),
    sa.Column('adjust_close', sa.Integer(), nullable=True),
    sa.Column('adjust_final_price', sa.Integer(), nullable=True),
    sa.Column('adjust_open_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_high_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_low_usd', sa.Double(precision=53), nullable=True),
    sa.Column('adjust_close_usd', sa.Double(precision=53), nullable=True),
    sa.Column('value_usd', sa.Double(precision=53), nullable=True),
    sa.Column('dollar_rate', sa.Double(precision=53), nullable=True),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('stock_ticker', 'week_start', name='uq_weekly_bond_week_start')
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    """Downgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table('weekly_bond')
    op.drop_table('weekly_retail')
    op.drop_table('weekly_block')
    op.drop_table('weekly_option')
    op.drop_table('weekly_commodity')
    op.drop_table('weekly_rights_issue')
    op.drop_table('weekly_fund_zafran')
    op.drop_table('weekly_fund_stock')
    op.drop_table('weekly_fund_segment')
    op.drop_table('weekly_fund_other')
    op.drop_table('weekly_fund_leverage')
    op.drop_table('weekly_fund_index_stock')
    op.drop_table('weekly_fund_gold')
    op.drop_table('weekly_fund_fixincome')
    op.drop_table('weekly_fund_balanced')
    # ### end Alembic commands ###
