"""add per-tool daily indicators tables

Revision ID: bcf9500c8618
Revises: 283669dbe259
Create Date: 2025-08-28 09:43:54.271232

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision: str = 'bcf9500c8618'
down_revision: Union[str, Sequence[str], None] = '283669dbe259'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    """Upgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('daily_indicators_fund_gold',
    sa.Column('stock_ticker', sa.Text(), nullable=False),
    sa.Column('date_miladi', sa.Date(), nullable=False),
    sa.Column('ema_20', sa.Double(precision=53), nullable=True),
    sa.Column('ema_50', sa.Double(precision=53), nullable=True),
    sa.Column('ema_100', sa.Double(precision=53), nullable=True),
    sa.Column('rsi', sa.Double(precision=53), nullable=True),
    sa.Column('macd', sa.Double(precision=53), nullable=True),
    sa.Column('macd_signal', sa.Double(precision=53), nullable=True),
    sa.Column('macd_hist', sa.Double(precision=53), nullable=True),
    sa.Column('tenkan', sa.Double(precision=53), nullable=True),
    sa.Column('kijun', sa.Double(precision=53), nullable=True),
    sa.Column('senkou_a', sa.Double(precision=53), nullable=True),
    sa.Column('senkou_b', sa.Double(precision=53), nullable=True),
    sa.Column('chikou', sa.Double(precision=53), nullable=True),
    sa.Column('signal_ichimoku_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ichimoku_sell', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ema_cross_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ema_cross_sell', sa.SmallInteger(), nullable=True),
    sa.Column('signal_rsi_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_rsi_sell', sa.SmallInteger(), nullable=True),
    sa.Column('signal_macd_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_macd_sell', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ema50_100_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ema50_100_sell', sa.SmallInteger(), nullable=True),
    sa.Column('atr_22', sa.Double(precision=53), nullable=True),
    sa.Column('renko_22', sa.Text(), nullable=True),
    sa.Column('ema_20_d', sa.Numeric(), nullable=True),
    sa.Column('ema_50_d', sa.Numeric(), nullable=True),
    sa.Column('ema_100_d', sa.Numeric(), nullable=True),
    sa.Column('rsi_d', sa.Numeric(), nullable=True),
    sa.Column('macd_d', sa.Numeric(), nullable=True),
    sa.Column('macd_signal_d', sa.Numeric(), nullable=True),
    sa.Column('macd_hist_d', sa.Numeric(), nullable=True),
    sa.Column('tenkan_d', sa.Numeric(), nullable=True),
    sa.Column('kijun_d', sa.Numeric(), nullable=True),
    sa.Column('senkou_a_d', sa.Numeric(), nullable=True),
    sa.Column('senkou_b_d', sa.Numeric(), nullable=True),
    sa.Column('chikou_d', sa.Numeric(), nullable=True),
    sa.Column('signal_ichimoku_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_ichimoku_sell_d', sa.Integer(), nullable=True),
    sa.Column('signal_ema_cross_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_ema_cross_sell_d', sa.Integer(), nullable=True),
    sa.Column('signal_rsi_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_rsi_sell_d', sa.Integer(), nullable=True),
    sa.Column('signal_macd_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_macd_sell_d', sa.Integer(), nullable=True),
    sa.Column('signal_ema50_100_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_ema50_100_sell_d', sa.Integer(), nullable=True),
    sa.Column('atr_22_d', sa.Numeric(), nullable=True),
    sa.Column('renko_22_d', sa.Text(), nullable=True),
    sa.PrimaryKeyConstraint('stock_ticker', 'date_miladi', name='daily_indicators_fund_gold_pkey')
    )
    op.create_table('daily_indicators_fund_index_stock',
    sa.Column('stock_ticker', sa.Text(), nullable=False),
    sa.Column('date_miladi', sa.Date(), nullable=False),
    sa.Column('ema_20', sa.Double(precision=53), nullable=True),
    sa.Column('ema_50', sa.Double(precision=53), nullable=True),
    sa.Column('ema_100', sa.Double(precision=53), nullable=True),
    sa.Column('rsi', sa.Double(precision=53), nullable=True),
    sa.Column('macd', sa.Double(precision=53), nullable=True),
    sa.Column('macd_signal', sa.Double(precision=53), nullable=True),
    sa.Column('macd_hist', sa.Double(precision=53), nullable=True),
    sa.Column('tenkan', sa.Double(precision=53), nullable=True),
    sa.Column('kijun', sa.Double(precision=53), nullable=True),
    sa.Column('senkou_a', sa.Double(precision=53), nullable=True),
    sa.Column('senkou_b', sa.Double(precision=53), nullable=True),
    sa.Column('chikou', sa.Double(precision=53), nullable=True),
    sa.Column('signal_ichimoku_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ichimoku_sell', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ema_cross_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ema_cross_sell', sa.SmallInteger(), nullable=True),
    sa.Column('signal_rsi_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_rsi_sell', sa.SmallInteger(), nullable=True),
    sa.Column('signal_macd_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_macd_sell', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ema50_100_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ema50_100_sell', sa.SmallInteger(), nullable=True),
    sa.Column('atr_22', sa.Double(precision=53), nullable=True),
    sa.Column('renko_22', sa.Text(), nullable=True),
    sa.Column('ema_20_d', sa.Numeric(), nullable=True),
    sa.Column('ema_50_d', sa.Numeric(), nullable=True),
    sa.Column('ema_100_d', sa.Numeric(), nullable=True),
    sa.Column('rsi_d', sa.Numeric(), nullable=True),
    sa.Column('macd_d', sa.Numeric(), nullable=True),
    sa.Column('macd_signal_d', sa.Numeric(), nullable=True),
    sa.Column('macd_hist_d', sa.Numeric(), nullable=True),
    sa.Column('tenkan_d', sa.Numeric(), nullable=True),
    sa.Column('kijun_d', sa.Numeric(), nullable=True),
    sa.Column('senkou_a_d', sa.Numeric(), nullable=True),
    sa.Column('senkou_b_d', sa.Numeric(), nullable=True),
    sa.Column('chikou_d', sa.Numeric(), nullable=True),
    sa.Column('signal_ichimoku_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_ichimoku_sell_d', sa.Integer(), nullable=True),
    sa.Column('signal_ema_cross_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_ema_cross_sell_d', sa.Integer(), nullable=True),
    sa.Column('signal_rsi_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_rsi_sell_d', sa.Integer(), nullable=True),
    sa.Column('signal_macd_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_macd_sell_d', sa.Integer(), nullable=True),
    sa.Column('signal_ema50_100_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_ema50_100_sell_d', sa.Integer(), nullable=True),
    sa.Column('atr_22_d', sa.Numeric(), nullable=True),
    sa.Column('renko_22_d', sa.Text(), nullable=True),
    sa.PrimaryKeyConstraint('stock_ticker', 'date_miladi', name='daily_indicators_fund_index_stock_pkey')
    )
    op.create_table('daily_indicators_fund_leverage',
    sa.Column('stock_ticker', sa.Text(), nullable=False),
    sa.Column('date_miladi', sa.Date(), nullable=False),
    sa.Column('ema_20', sa.Double(precision=53), nullable=True),
    sa.Column('ema_50', sa.Double(precision=53), nullable=True),
    sa.Column('ema_100', sa.Double(precision=53), nullable=True),
    sa.Column('rsi', sa.Double(precision=53), nullable=True),
    sa.Column('macd', sa.Double(precision=53), nullable=True),
    sa.Column('macd_signal', sa.Double(precision=53), nullable=True),
    sa.Column('macd_hist', sa.Double(precision=53), nullable=True),
    sa.Column('tenkan', sa.Double(precision=53), nullable=True),
    sa.Column('kijun', sa.Double(precision=53), nullable=True),
    sa.Column('senkou_a', sa.Double(precision=53), nullable=True),
    sa.Column('senkou_b', sa.Double(precision=53), nullable=True),
    sa.Column('chikou', sa.Double(precision=53), nullable=True),
    sa.Column('signal_ichimoku_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ichimoku_sell', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ema_cross_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ema_cross_sell', sa.SmallInteger(), nullable=True),
    sa.Column('signal_rsi_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_rsi_sell', sa.SmallInteger(), nullable=True),
    sa.Column('signal_macd_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_macd_sell', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ema50_100_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ema50_100_sell', sa.SmallInteger(), nullable=True),
    sa.Column('atr_22', sa.Double(precision=53), nullable=True),
    sa.Column('renko_22', sa.Text(), nullable=True),
    sa.Column('ema_20_d', sa.Numeric(), nullable=True),
    sa.Column('ema_50_d', sa.Numeric(), nullable=True),
    sa.Column('ema_100_d', sa.Numeric(), nullable=True),
    sa.Column('rsi_d', sa.Numeric(), nullable=True),
    sa.Column('macd_d', sa.Numeric(), nullable=True),
    sa.Column('macd_signal_d', sa.Numeric(), nullable=True),
    sa.Column('macd_hist_d', sa.Numeric(), nullable=True),
    sa.Column('tenkan_d', sa.Numeric(), nullable=True),
    sa.Column('kijun_d', sa.Numeric(), nullable=True),
    sa.Column('senkou_a_d', sa.Numeric(), nullable=True),
    sa.Column('senkou_b_d', sa.Numeric(), nullable=True),
    sa.Column('chikou_d', sa.Numeric(), nullable=True),
    sa.Column('signal_ichimoku_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_ichimoku_sell_d', sa.Integer(), nullable=True),
    sa.Column('signal_ema_cross_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_ema_cross_sell_d', sa.Integer(), nullable=True),
    sa.Column('signal_rsi_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_rsi_sell_d', sa.Integer(), nullable=True),
    sa.Column('signal_macd_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_macd_sell_d', sa.Integer(), nullable=True),
    sa.Column('signal_ema50_100_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_ema50_100_sell_d', sa.Integer(), nullable=True),
    sa.Column('atr_22_d', sa.Numeric(), nullable=True),
    sa.Column('renko_22_d', sa.Text(), nullable=True),
    sa.PrimaryKeyConstraint('stock_ticker', 'date_miladi', name='daily_indicators_fund_leverage_pkey')
    )
    op.create_table('daily_indicators_fund_segment',
    sa.Column('stock_ticker', sa.Text(), nullable=False),
    sa.Column('date_miladi', sa.Date(), nullable=False),
    sa.Column('ema_20', sa.Double(precision=53), nullable=True),
    sa.Column('ema_50', sa.Double(precision=53), nullable=True),
    sa.Column('ema_100', sa.Double(precision=53), nullable=True),
    sa.Column('rsi', sa.Double(precision=53), nullable=True),
    sa.Column('macd', sa.Double(precision=53), nullable=True),
    sa.Column('macd_signal', sa.Double(precision=53), nullable=True),
    sa.Column('macd_hist', sa.Double(precision=53), nullable=True),
    sa.Column('tenkan', sa.Double(precision=53), nullable=True),
    sa.Column('kijun', sa.Double(precision=53), nullable=True),
    sa.Column('senkou_a', sa.Double(precision=53), nullable=True),
    sa.Column('senkou_b', sa.Double(precision=53), nullable=True),
    sa.Column('chikou', sa.Double(precision=53), nullable=True),
    sa.Column('signal_ichimoku_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ichimoku_sell', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ema_cross_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ema_cross_sell', sa.SmallInteger(), nullable=True),
    sa.Column('signal_rsi_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_rsi_sell', sa.SmallInteger(), nullable=True),
    sa.Column('signal_macd_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_macd_sell', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ema50_100_buy', sa.SmallInteger(), nullable=True),
    sa.Column('signal_ema50_100_sell', sa.SmallInteger(), nullable=True),
    sa.Column('atr_22', sa.Double(precision=53), nullable=True),
    sa.Column('renko_22', sa.Text(), nullable=True),
    sa.Column('ema_20_d', sa.Numeric(), nullable=True),
    sa.Column('ema_50_d', sa.Numeric(), nullable=True),
    sa.Column('ema_100_d', sa.Numeric(), nullable=True),
    sa.Column('rsi_d', sa.Numeric(), nullable=True),
    sa.Column('macd_d', sa.Numeric(), nullable=True),
    sa.Column('macd_signal_d', sa.Numeric(), nullable=True),
    sa.Column('macd_hist_d', sa.Numeric(), nullable=True),
    sa.Column('tenkan_d', sa.Numeric(), nullable=True),
    sa.Column('kijun_d', sa.Numeric(), nullable=True),
    sa.Column('senkou_a_d', sa.Numeric(), nullable=True),
    sa.Column('senkou_b_d', sa.Numeric(), nullable=True),
    sa.Column('chikou_d', sa.Numeric(), nullable=True),
    sa.Column('signal_ichimoku_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_ichimoku_sell_d', sa.Integer(), nullable=True),
    sa.Column('signal_ema_cross_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_ema_cross_sell_d', sa.Integer(), nullable=True),
    sa.Column('signal_rsi_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_rsi_sell_d', sa.Integer(), nullable=True),
    sa.Column('signal_macd_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_macd_sell_d', sa.Integer(), nullable=True),
    sa.Column('signal_ema50_100_buy_d', sa.Integer(), nullable=True),
    sa.Column('signal_ema50_100_sell_d', sa.Integer(), nullable=True),
    sa.Column('atr_22_d', sa.Numeric(), nullable=True),
    sa.Column('renko_22_d', sa.Text(), nullable=True),
    sa.PrimaryKeyConstraint('stock_ticker', 'date_miladi', name='daily_indicators_fund_segment_pkey')
    )
    op.create_table('haghighi_fund_gold',
    sa.Column('recdate', sa.Date(), nullable=False),
    sa.Column('inscode', sa.Text(), nullable=True),
    sa.Column('symbol', sa.Text(), nullable=False),
    sa.Column('sector', sa.Text(), nullable=True),
    sa.Column('buy_i_volume', sa.BigInteger(), nullable=True),
    sa.Column('buy_n_volume', sa.BigInteger(), nullable=True),
    sa.Column('buy_i_value', sa.BigInteger(), nullable=True),
    sa.Column('buy_n_value', sa.BigInteger(), nullable=True),
    sa.Column('buy_n_count', sa.BigInteger(), nullable=True),
    sa.Column('sell_i_volume', sa.BigInteger(), nullable=True),
    sa.Column('buy_i_count', sa.BigInteger(), nullable=True),
    sa.Column('sell_n_volume', sa.BigInteger(), nullable=True),
    sa.Column('sell_i_value', sa.BigInteger(), nullable=True),
    sa.Column('sell_n_value', sa.BigInteger(), nullable=True),
    sa.Column('sell_n_count', sa.BigInteger(), nullable=True),
    sa.Column('sell_i_count', sa.BigInteger(), nullable=True),
    sa.Column('dollar_rate', sa.Numeric(), nullable=True),
    sa.Column('buy_i_value_usd', sa.Numeric(), nullable=True),
    sa.Column('buy_n_value_usd', sa.Numeric(), nullable=True),
    sa.Column('sell_i_value_usd', sa.Numeric(), nullable=True),
    sa.Column('sell_n_value_usd', sa.Numeric(), nullable=True),
    sa.Column('is_temp', sa.Boolean(), server_default=sa.text('false'), nullable=True),
    sa.PrimaryKeyConstraint('symbol', 'recdate', name='haghighi_fund_gold_pk'),
    sa.UniqueConstraint('symbol', 'recdate', name='haghighi_fund_gold_symbol_recdate_uq')
    )
    op.create_table('haghighi_rights_issue',
    sa.Column('recdate', sa.Date(), nullable=False),
    sa.Column('inscode', sa.Text(), nullable=True),
    sa.Column('symbol', sa.Text(), nullable=False),
    sa.Column('sector', sa.Text(), nullable=True),
    sa.Column('buy_i_volume', sa.BigInteger(), nullable=True),
    sa.Column('buy_n_volume', sa.BigInteger(), nullable=True),
    sa.Column('buy_i_value', sa.BigInteger(), nullable=True),
    sa.Column('buy_n_value', sa.BigInteger(), nullable=True),
    sa.Column('buy_n_count', sa.BigInteger(), nullable=True),
    sa.Column('sell_i_volume', sa.BigInteger(), nullable=True),
    sa.Column('buy_i_count', sa.BigInteger(), nullable=True),
    sa.Column('sell_n_volume', sa.BigInteger(), nullable=True),
    sa.Column('sell_i_value', sa.BigInteger(), nullable=True),
    sa.Column('sell_n_value', sa.BigInteger(), nullable=True),
    sa.Column('sell_n_count', sa.BigInteger(), nullable=True),
    sa.Column('sell_i_count', sa.BigInteger(), nullable=True),
    sa.Column('dollar_rate', sa.Numeric(), nullable=True),
    sa.Column('buy_i_value_usd', sa.Numeric(), nullable=True),
    sa.Column('buy_n_value_usd', sa.Numeric(), nullable=True),
    sa.Column('sell_i_value_usd', sa.Numeric(), nullable=True),
    sa.Column('sell_n_value_usd', sa.Numeric(), nullable=True),
    sa.Column('is_temp', sa.Boolean(), server_default=sa.text('false'), nullable=True),
    sa.PrimaryKeyConstraint('symbol', 'recdate', name='haghighi_rights_issue_pk'),
    sa.UniqueConstraint('symbol', 'recdate', name='haghighi_rights_issue_symbol_recdate_uq')
    )
    op.create_table('haghighi_stock',
    sa.Column('recdate', sa.Date(), nullable=False),
    sa.Column('inscode', sa.Text(), nullable=True),
    sa.Column('symbol', sa.Text(), nullable=False),
    sa.Column('sector', sa.Text(), nullable=True),
    sa.Column('buy_i_volume', sa.BigInteger(), nullable=True),
    sa.Column('buy_n_volume', sa.BigInteger(), nullable=True),
    sa.Column('buy_i_value', sa.BigInteger(), nullable=True),
    sa.Column('buy_n_value', sa.BigInteger(), nullable=True),
    sa.Column('buy_n_count', sa.BigInteger(), nullable=True),
    sa.Column('sell_i_volume', sa.BigInteger(), nullable=True),
    sa.Column('buy_i_count', sa.BigInteger(), nullable=True),
    sa.Column('sell_n_volume', sa.BigInteger(), nullable=True),
    sa.Column('sell_i_value', sa.BigInteger(), nullable=True),
    sa.Column('sell_n_value', sa.BigInteger(), nullable=True),
    sa.Column('sell_n_count', sa.BigInteger(), nullable=True),
    sa.Column('sell_i_count', sa.BigInteger(), nullable=True),
    sa.Column('dollar_rate', sa.Numeric(), nullable=True),
    sa.Column('buy_i_value_usd', sa.Numeric(), nullable=True),
    sa.Column('buy_n_value_usd', sa.Numeric(), nullable=True),
    sa.Column('sell_i_value_usd', sa.Numeric(), nullable=True),
    sa.Column('sell_n_value_usd', sa.Numeric(), nullable=True),
    sa.Column('is_temp', sa.Boolean(), server_default=sa.text('false'), nullable=True),
    sa.PrimaryKeyConstraint('symbol', 'recdate', name='haghighi_stock_pk'),
    sa.UniqueConstraint('symbol', 'recdate', name='haghighi_stock_symbol_recdate_uq')
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    """Downgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table('haghighi_stock')
    op.drop_table('haghighi_rights_issue')
    op.drop_table('haghighi_fund_gold')
    op.drop_table('daily_indicators_fund_segment')
    op.drop_table('daily_indicators_fund_leverage')
    op.drop_table('daily_indicators_fund_index_stock')
    op.drop_table('daily_indicators_fund_gold')
    # ### end Alembic commands ###
